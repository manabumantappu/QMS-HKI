<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>QMS HKI | Dokumen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="top-header">
  <img src="assets/img/logo-hki.png" class="logo" alt="HKI Logo">

  <div>
    <h1 data-id="QMS HKI" data-jp="QMS HKI">QMS HKI</h1>
    <p data-id="Quality Management System"
       data-jp="å“è³ªãƒžãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ">
       Quality Management System
    </p>
  </div>

  <div class="lang-switch">
    <button onclick="setLang('id')">ID</button>
    <button onclick="setLang('jp')">JP</button>
  </div>

  <button id="logoutBtn"
          class="logout-btn"
          data-id="Logout"
          data-jp="ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ">
    Logout
  </button>
</header>

<!-- ================= LAYOUT ================= -->
<div class="layout">

<!-- ================= SIDEBAR ================= -->
<aside class="sidebar">
  <h3 data-id="Menu" data-jp="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">Menu</h3>

  <a href="#A" data-id="Pendidikan & SDM" data-jp="æ•™è‚²ãƒ»äººæ">Pendidikan & SDM</a>
  <a href="#B" data-id="Produksi & Proses" data-jp="è£½é€ ãƒ»å·¥ç¨‹">Produksi & Proses</a>
  <a href="#C" data-id="Kualitas & Ketidaksesuaian" data-jp="å“è³ªãƒ»ä¸é©åˆ">Kualitas & Ketidaksesuaian</a>
  <a href="#D" data-id="Inspeksi, Alat & Peralatan" data-jp="æ¤œæŸ»ãƒ»æ¸¬å®šæ©Ÿå™¨">Inspeksi & Alat</a>
  <a href="#E" data-id="Material & Vendor" data-jp="è³‡æãƒ»ä»•å…¥å…ˆ">Material & Vendor</a>
  <a href="#F" data-id="Teknik & Engineering" data-jp="æŠ€è¡“ãƒ»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°">Teknik</a>
  <a href="#G" data-id="Manajemen Dokumen" data-jp="æ–‡æ›¸ç®¡ç†">Manajemen Dokumen</a>
  <a href="audit.html" data-id="Audit Log" data-jp="ç›£æŸ»ãƒ­ã‚°">Audit Log</a>
</aside>

<!-- ================= CONTENT ================= -->
<main class="content">

<input type="text"
       id="searchInput"
       placeholder="Cari dokumen (HSQ-xxx / judul)">

<!-- ===== A ===== -->
<section id="A" class="qms-section">
  <h2 data-id="Pendidikan & SDM" data-jp="æ•™è‚²ãƒ»äººæ">Pendidikan & SDM</h2>
  <a onclick="openPDF('assets/pdf/A_Pendidikan/HSQ-001.pdf', this)">HSQ-001 â€“ Pendidikan / Pelatihan</a>
  <a onclick="openPDF('assets/pdf/A_Pendidikan/HSQ-060.pdf', this)">HSQ-060 â€“ Pergantian Operator</a>
</section>

<!-- ===== B ===== -->
<section id="B" class="qms-section">
  <h2 data-id="Produksi & Proses" data-jp="è£½é€ ãƒ»å·¥ç¨‹">Produksi & Proses</h2>
  <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-010.pdf', this)">HSQ-010 â€“ Pengelolaan Jig</a>
  <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-020.pdf', this)">HSQ-020 â€“ Produk Awal</a>
  <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-021.pdf', this)">HSQ-021 â€“ Titik Perubahan</a>
  <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-002.pdf', this)">HSQ-002 â€“ Perbaikan Kebocoran Welding Tank</a>
</section>

<!-- ===== C ===== -->
<section id="C" class="qms-section">
  <h2 data-id="Kualitas & Ketidaksesuaian" data-jp="å“è³ªãƒ»ä¸é©åˆ">Kualitas & Ketidaksesuaian</h2>
  <a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-030.pdf', this)">HSQ-030 â€“ Tindakan Korektif</a>
  <a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-040.pdf', this)">HSQ-040 â€“ Mutu Internal</a>
</section>

<!-- ===== G ===== -->
<section id="G" class="qms-section">
  <h2 data-id="Manajemen Dokumen" data-jp="æ–‡æ›¸ç®¡ç†">Manajemen Dokumen</h2>
  <a onclick="openPDF('assets/pdf/G_Manajemen_Dokumen/HKI_Quality_Manual.pdf', this)">HKI Quality Manual</a>
  <a onclick="openPDF('assets/pdf/G_Manajemen_Dokumen/HS-001.pdf', this)">HS-001 â€“ Format Pedoman</a>
  <a onclick="openPDF('assets/pdf/G_Manajemen_Dokumen/HS-002.pdf', this)">HS-002 â€“ Format Standar Prosedur Kerja</a>
</section>

</main>

<!-- ================= PDF VIEWER ================= -->
<aside class="viewer">
  <div class="viewer-header">
    <p class="viewer-title">ðŸ“„ PDF Viewer</p>
    <a id="openNewTab" class="open-new-tab" target="_blank">
      ðŸ”— Buka di Tab Baru
    </a>
  </div>

  <iframe id="pdfViewer"></iframe>

  <a id="mobileOpenBtn"
     class="mobile-open"
     target="_blank">
     ðŸ“¥ Buka PDF
  </a>
</aside>

</div>

<!-- ================= FIREBASE AUTH ================= -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDh41eDkNZbKrYCAo8wOE0DEe0UyOZIulA",
    authDomain: "qms-hki.firebaseapp.com",
    projectId: "qms-hki"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  onAuthStateChanged(auth, user => {
    if (!user) window.location.href = "login.html";
  });

  document.getElementById("logoutBtn").addEventListener("click", () => {
    signOut(auth).then(() => {
      window.location.href = "login.html";
    });
  });
</script>

<script src="app.js"></script>
</body>
</html>
