<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>QMS HKI | Dokumen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- HEADER -->
<header class="top-header">
  <img src="assets/img/logo-hki.png" class="logo" alt="HKI Logo">
  <div>
    <h1>QMS HKI</h1>
    <p>Quality Management System</p>
  </div>
  <button id="logoutBtn" class="logout-btn">Logout</button>
</header>

<div class="layout">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h3>Menu</h3>
    <a href="#A">Pendidikan & SDM</a>
    <a href="#B">Produksi & Proses</a>
    <a href="#C">Kualitas</a>
    <a href="#G">Manajemen Dokumen</a>
  </aside>

  <!-- CONTENT -->
  <main class="content">

    <input type="text" id="searchInput" placeholder="Cari dokumen (HSQ-xxx / judul)">

    <section id="A" class="qms-section">
      <h2>Pendidikan & SDM</h2>
      <a onclick="openPDF('assets/pdf/A_Pendidikan/HSQ-001.pdf')">HSQ-001 â€“ Pendidikan / Pelatihan</a>
      <a onclick="openPDF('assets/pdf/A_Pendidikan/HSQ-060.pdf')">HSQ-060 â€“ Pergantian Operator</a>
    </section>

    <section id="B" class="qms-section">
      <h2>Produksi & Proses</h2>
      <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-010.pdf')">HSQ-010 â€“ Pengelolaan Jig</a>
      <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-020.pdf')">HSQ-020 â€“ Produk Awal</a>
      <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-021.pdf')">HSQ-021 â€“ Titik Perubahan</a>
      <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-002.pdf')">HSQ-002 â€“ Perbaikan Kebocoran pada Welding Tank
  </a>
  <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-031.pdf')">HSQ-031 â€“ Penanganan Ketidaksesuaian Produk (Produksi Internal)
  </a>
  <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-170.pdf')">HSQ-170 â€“ Penanganan Barang Tertunda karena Perbaikan Cacat
  </a>
  <a onclick="openPDF('assets/pdf/B_Produksi/HSQ-180.pdf')">HSQ-180 â€“ Buku Pedoman Pengelolaan Program Laser
  </a>
    </section>

    <section id="C" class="qms-section">
      <h2>Kualitas & Ketidaksesuaian</h2>
      <a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-030.pdf')">HSQ-030 â€“ Tindakan Korektif</a>
      <a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-040.pdf')">HSQ-040 â€“ Mutu Internal</a>
       <a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-050.pdf')">HSQ-050 â€“ Penanggung Jawab Jaminan Mutu
  </a>
  <a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-080.pdf')">HSQ-080 â€“ Laporan Ketidaksesuaian / Cacat
  </a>
    </section>

    <section id="D" class="qms-section">
  <h2>Inspeksi, Alat & Peralatan</h2>
  <a onclick="openPDF('assets/pdf/D_Inspeksi/HSQ-011.pdf')">HSQ-011 â€“ Pemeriksaan Cetakan (Mold)
  </a>
  <a onclick="openPDF('assets/pdf/D_Inspeksi/HSQ-090.pdf')">HSQ-090 â€“ Penyusunan Item Jaminan Proses Produksi
  </a>
  <a onclick="openPDF('assets/pdf/D_Inspeksi/HSQ-100.pdf')">HSQ-100 â€“ Penyusunan Dokumen Standar Inspeksi
  </a>
  <a onclick="openPDF('assets/pdf/D_Inspeksi/HSQ-110.pdf')">HSQ-110 â€“ Pengelolaan Alat Ukur
  </a>
  <a onclick="openPDF('assets/pdf/D_Inspeksi/HSQ-120.pdf')">HSQ-120 â€“ Pemeriksaan Berkala Peralatan
  </a>
</section>
    <section id="E" class="qms-section">
  <h2>Material & Vendor</h2>
  <a onclick="openPDF('assets/pdf/E_Material/HSQ-130.pdf')">HSQ-130 â€“ Pengelolaan Material / Bahan
  </a>
  <a onclick="openPDF('assets/pdf/E_Material/HSQ-150.pdf')">HSQ-150 â€“ Pemilihan Pemasok / Vendor
  </a>
  <a onclick="openPDF('assets/pdf/E_Material/HSQ-160.pdf')">HSQ-160 â€“ Pengelolaan Pekerjaan Subkontrak
  </a>
</section>

    <section id="F" class="qms-section">
  <h2>Teknik & Engineering</h2>
  <a onclick="openPDF('assets/pdf/F_Teknik/HSQ-070.pdf')">HSQ-070 â€“ Pengelolaan Drawing dan KES
  </a>
  <a onclick="openPDF('assets/pdf/F_Teknik/HSQ-140.pdf')">HSQ-140 â€“ Pengelolaan Kunci Torsi (Torque Wrench)
  </a>
</section>
    
    <section id="G" class="qms-section">
      <h2>Manajemen Dokumen</h2>
      <a onclick="openPDF('assets/pdf/G_Manajemen_Dokumen/HS-001.pdf')">HS-001 â€“ Format Pedoman</a>
    </section>

  </main>

  <!-- PDF VIEWER -->
  <aside class="viewer">
    <p class="viewer-title">ðŸ“„ PDF Viewer</p>
    <iframe id="pdfViewer"></iframe>
  </aside>

</div>

<!-- ðŸ” FIREBASE PROTEKSI + LOGOUT -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

  // ðŸ”¹ CONFIG RESMI DARI FIREBASE (CONFIG TAB)
  const firebaseConfig = {
    apiKey: "AIzaSyDh41eDkNZbKrYCAo8wOE0DEe0UyOZIulA",
    authDomain: "qms-hki.firebaseapp.com",
    projectId: "qms-hki",
    storageBucket: "qms-hki.firebasestorage.app",
    messagingSenderId: "718676500560",
    appId: "1:718676500560:web:4eb93417bd3f5c14d1f155"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // ðŸ”’ PROTEKSI HALAMAN
  onAuthStateChanged(auth, user => {
    if (!user) {
      window.location.href = "login.html";
    }
  });

  // ðŸ”“ LOGOUT
  document.getElementById("logoutBtn").addEventListener("click", () => {
    signOut(auth).then(() => {
      window.location.href = "login.html";
    });
  });
</script>

<script src="app.js"></script>
</body>
</html>
