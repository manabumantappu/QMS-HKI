<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>QMS HKI | Dokumen</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>

<body>

 
<!-- HEADER -->
<header class="top-header">
  <img src="assets/img/logo-hki.png" class="logo">
  <div>
    <h1>QMS HKI</h1>
    <p>Quality Management System</p>
  </div>
  <button id="logoutBtn" class="logout-btn">Logout</button>

</header>

<div class="layout">

<!-- SIDEBAR -->
<aside class="sidebar">
  <h3>Menu</h3>
  <a href="#A">Pendidikan & SDM</a>
  <a href="#B">Produksi & Proses</a>
  <a href="#C">Kualitas</a>
  <a href="#D">Inspeksi</a>
  <a href="#E">Material</a>
  <a href="#F">Teknik</a>
  <a href="#G">Manajemen Dokumen</a>
</aside>

<!-- CONTENT -->
<main class="content">

<input type="text" id="searchInput" placeholder="Cari dokumen (HSQ-xxx / judul)">

<section id="A" class="qms-section">
<h2>Pendidikan & SDM</h2>
<a onclick="openPDF('assets/pdf/A_Pendidikan/HSQ-001.pdf')">HSQ-001 â€“ Pendidikan / Pelatihan</a>
<a onclick="openPDF('assets/pdf/A_Pendidikan/HSQ-060.pdf')">HSQ-060 â€“ Pergantian Operator</a>
</section>

<section id="B" class="qms-section">
<h2>Produksi & Proses</h2>
<a onclick="openPDF('assets/pdf/B_Produksi/HSQ-010.pdf')">HSQ-010 â€“ Pengelolaan Jig</a>
<a onclick="openPDF('assets/pdf/B_Produksi/HSQ-020.pdf')">HSQ-020 â€“ Produk Awal</a>
<a onclick="openPDF('assets/pdf/B_Produksi/HSQ-021.pdf')">HSQ-021 â€“ Titik Perubahan</a>
<a onclick="openPDF('assets/pdf/B_Produksi/HSQ-090.pdf')">HSQ-090 â€“ Jaminan Proses</a>
<a onclick="openPDF('assets/pdf/B_Produksi/HSQ-180.pdf')">HSQ-180 â€“ Program Laser</a>
</section>

<section id="C" class="qms-section">
<h2>Kualitas & Ketidaksesuaian</h2>
<a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-030.pdf')">HSQ-030 â€“ Tindakan Korektif</a>
<a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-031.pdf')">HSQ-031 â€“ Ketidaksesuaian Produk</a>
<a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-040.pdf')">HSQ-040 â€“ Mutu Internal</a>
<a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-080.pdf')">HSQ-080 â€“ Laporan Cacat</a>
<a onclick="openPDF('assets/pdf/C_Kualitas/HSQ-170.pdf')">HSQ-170 â€“ Barang Tertunda</a>
</section>

<section id="G" class="qms-section">
<h2>Manajemen Dokumen</h2>
<a onclick="openPDF('assets/pdf/G_Manajemen_Dokumen/HS-001.pdf')">HS-001 â€“ Format Pedoman</a>
<a onclick="openPDF('assets/pdf/G_Manajemen_Dokumen/HS-002.pdf')">HS-002 â€“ Format SPK</a>
</section>

</main>

<!-- PDF VIEWER -->
<aside class="viewer">
  <p class="viewer-title">ðŸ“„ PDF Viewer</p>
  <iframe id="pdfViewer"></iframe>

  <!-- tombol khusus HP -->
  <a id="mobileOpenBtn" class="mobile-open" target="_blank">
    ðŸ“¥ Buka PDF
  </a>
</aside>


</div>

<script src="app.js"></script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

  // ðŸ”¹ FIREBASE CONFIG (SAMA DENGAN login.html)
  const firebaseConfig = {
    apiKey: "AIzaSyDh41eDkNZbKrYCAo8wOE0DEe0Uy0Z1uLA",
    authDomain: "qms-hki.firebaseapp.com",
    projectId: "qms-hki",
    storageBucket: "qms-hki.appspot.com",
    messagingSenderId: "718676500560",
    appId: "1:718676500560:web:4eb93417bd3f5c14d1f155"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // ðŸ”’ PROTEKSI HALAMAN (WAJIB LOGIN)
  onAuthStateChanged(auth, user => {
    if (!user) {
      window.location.href = "login.html";
    }
  });

  // ðŸ”“ LOGOUT
  document.getElementById("logoutBtn").addEventListener("click", () => {
    signOut(auth).then(() => {
      window.location.href = "login.html";
    });
  });
</script>
  
</body>
</html>
